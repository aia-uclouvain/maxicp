<instance format="XCSP3" type="COP">
  <variables>
    <array id="x" note="x[i][j] indicates what is present in the cell with coordinates (i,j)" size="[5][5]"> 0 1 2 </array>
    <var id="q" note="q is the number of queens"> 0..5 </var>
    <var id="k" note="k is the number of knights"> 0..5 </var>
    <array id="qb" size="[5][5]"> 0 1 </array>
    <array id="kb" size="[5][5]"> 0 1 </array>
    <array id="sb" size="[5][5]">
      <domain for="sb[0][] sb[1][0] sb[1][4] sb[2][0] sb[2][4] sb[3][0] sb[3][4] sb[4][]"> 0..12 </domain>
      <domain for="sb[1][1..3] sb[2][1] sb[2][3] sb[3][1..3]"> 0..14 </domain>
      <domain for="sb[2][2]"> 0..16 </domain>
    </array>
    <array id="sk" size="[5][5]">
      <domain for="sk[0][0] sk[0][4] sk[4][0] sk[4][4]"> 0..2 </domain>
      <domain for="sk[0][1] sk[0][3] sk[1][0] sk[1][4] sk[3][0] sk[3][4] sk[4][1] sk[4][3]"> 0..3 </domain>
      <domain for="sk[0][2] sk[1][1] sk[1][3] sk[2][0] sk[2][4] sk[3][1] sk[3][3] sk[4][2]"> 0..4 </domain>
      <domain for="sk[1][2] sk[2][1] sk[2][3] sk[3][2]"> 0..6 </domain>
      <domain for="sk[2][2]"> 0..8 </domain>
    </array>
    <var id="z"> 0..10 </var>
  </variables>
  <constraints>
    <group>
      <extension>
        <list> %0 %1 </list>
        <supports> (0,0)(0,2)(1,1) </supports>
      </extension>
      <args> qb[0][0] x[0][0] </args>
      <args> qb[0][1] x[0][1] </args>
      <args> qb[0][2] x[0][2] </args>
      <args> qb[0][3] x[0][3] </args>
      <args> qb[0][4] x[0][4] </args>
      <args> qb[1][0] x[1][0] </args>
      <args> qb[1][1] x[1][1] </args>
      <args> qb[1][2] x[1][2] </args>
      <args> qb[1][3] x[1][3] </args>
      <args> qb[1][4] x[1][4] </args>
      <args> qb[2][0] x[2][0] </args>
      <args> qb[2][1] x[2][1] </args>
      <args> qb[2][2] x[2][2] </args>
      <args> qb[2][3] x[2][3] </args>
      <args> qb[2][4] x[2][4] </args>
      <args> qb[3][0] x[3][0] </args>
      <args> qb[3][1] x[3][1] </args>
      <args> qb[3][2] x[3][2] </args>
      <args> qb[3][3] x[3][3] </args>
      <args> qb[3][4] x[3][4] </args>
      <args> qb[4][0] x[4][0] </args>
      <args> qb[4][1] x[4][1] </args>
      <args> qb[4][2] x[4][2] </args>
      <args> qb[4][3] x[4][3] </args>
      <args> qb[4][4] x[4][4] </args>
    </group>
    <group>
      <extension>
        <list> %0 %1 </list>
        <supports> (0,0)(0,1)(1,2) </supports>
      </extension>
      <args> kb[0][0] x[0][0] </args>
      <args> kb[0][1] x[0][1] </args>
      <args> kb[0][2] x[0][2] </args>
      <args> kb[0][3] x[0][3] </args>
      <args> kb[0][4] x[0][4] </args>
      <args> kb[1][0] x[1][0] </args>
      <args> kb[1][1] x[1][1] </args>
      <args> kb[1][2] x[1][2] </args>
      <args> kb[1][3] x[1][3] </args>
      <args> kb[1][4] x[1][4] </args>
      <args> kb[2][0] x[2][0] </args>
      <args> kb[2][1] x[2][1] </args>
      <args> kb[2][2] x[2][2] </args>
      <args> kb[2][3] x[2][3] </args>
      <args> kb[2][4] x[2][4] </args>
      <args> kb[3][0] x[3][0] </args>
      <args> kb[3][1] x[3][1] </args>
      <args> kb[3][2] x[3][2] </args>
      <args> kb[3][3] x[3][3] </args>
      <args> kb[3][4] x[3][4] </args>
      <args> kb[4][0] x[4][0] </args>
      <args> kb[4][1] x[4][1] </args>
      <args> kb[4][2] x[4][2] </args>
      <args> kb[4][3] x[4][3] </args>
      <args> kb[4][4] x[4][4] </args>
    </group>
    <sum note="computing the number of queens">
      <list> qb[][] </list>
      <condition> (eq,q) </condition>
    </sum>
    <sum note="computing the number of knights">
      <list> kb[][] </list>
      <condition> (eq,k) </condition>
    </sum>
    <group>
      <sum>
        <list> %... </list>
        <condition> (eq,%0) </condition>
      </sum>
      <args> sb[0][0] x[0][1..4] x[1][0..1] x[2][0] x[2][2] x[3][0] x[3][3] x[4][0] x[4][4] </args>
      <args> sb[0][1] x[0][0] x[0][2..4] x[1][0..2] x[2][1] x[2][3] x[3][1] x[3][4] x[4][1] </args>
      <args> sb[0][2] x[0][0..1] x[0][3..4] x[1][1..3] x[2][0] x[2][2] x[2][4] x[3..4][2] </args>
      <args> sb[0][3] x[0][0..2] x[0][4] x[1][2..4] x[2][1] x[2][3] x[3][0] x[3..4][3] </args>
      <args> sb[0][4] x[0][0..3] x[1][3..4] x[2][2] x[2][4] x[3][1] x[3][4] x[4][0] x[4][4] </args>
      <args> sb[1][0] x[0][0..1] x[1][1..4] x[2][0..1] x[3][0] x[3][2] x[4][0] x[4][3] </args>
      <args> sb[1][1] x[0][0..2] x[1][0] x[1][2..4] x[2][0..2] x[3][1] x[3][3] x[4][1] x[4][4] </args>
      <args> sb[1][2] x[0][1..3] x[1][0..1] x[1][3..4] x[2][1..3] x[3][0] x[3][2] x[3][4] x[4][2] </args>
      <args> sb[1][3] x[0][2..4] x[1][0..2] x[1][4] x[2][2..4] x[3][1] x[3][3] x[4][0] x[4][3] </args>
      <args> sb[1][4] x[0][3..4] x[1][0..3] x[2][3..4] x[3][2] x[3][4] x[4][1] x[4][4] </args>
      <args> sb[2][0] x[0][0] x[0][2] x[1][0..1] x[2][1..4] x[3][0..1] x[4][0] x[4][2] </args>
      <args> sb[2][1] x[0][1] x[0][3] x[1][0..2] x[2][0] x[2][2..4] x[3][0..2] x[4][1] x[4][3] </args>
      <args> sb[2][2] x[0][0] x[0][2] x[0][4] x[1][1..3] x[2][0..1] x[2][3..4] x[3][1..3] x[4][0] x[4][2] x[4][4] </args>
      <args> sb[2][3] x[0][1] x[0][3] x[1][2..4] x[2][0..2] x[2][4] x[3][2..4] x[4][1] x[4][3] </args>
      <args> sb[2][4] x[0][2] x[0][4] x[1][3..4] x[2][0..3] x[3][3..4] x[4][2] x[4][4] </args>
      <args> sb[3][0] x[0][0] x[0][3] x[1][0] x[1][2] x[2][0..1] x[3][1..4] x[4][0..1] </args>
      <args> sb[3][1] x[0][1] x[0][4] x[1][1] x[1][3] x[2][0..2] x[3][0] x[3][2..4] x[4][0..2] </args>
      <args> sb[3][2] x[0][2] x[1][0] x[1][2] x[1][4] x[2][1..3] x[3][0..1] x[3][3..4] x[4][1..3] </args>
      <args> sb[3][3] x[0][0] x[0][3] x[1][1] x[1][3] x[2][2..4] x[3][0..2] x[3][4] x[4][2..4] </args>
      <args> sb[3][4] x[0][1] x[0][4] x[1][2] x[1][4] x[2][3..4] x[3][0..3] x[4][3..4] </args>
      <args> sb[4][0] x[0][0] x[0][4] x[1][0] x[1][3] x[2][0] x[2][2] x[3][0..1] x[4][1..4] </args>
      <args> sb[4][1] x[0..1][1] x[1][4] x[2][1] x[2][3] x[3][0..2] x[4][0] x[4][2..4] </args>
      <args> sb[4][2] x[0..1][2] x[2][0] x[2][2] x[2][4] x[3][1..3] x[4][0..1] x[4][3..4] </args>
      <args> sb[4][3] x[0][3] x[1][0] x[1][3] x[2][1] x[2][3] x[3][2..4] x[4][0..2] x[4][4] </args>
      <args> sb[4][4] x[0][0] x[0][4] x[1][1] x[1][4] x[2][2] x[2][4] x[3][3..4] x[4][0..3] </args>
    </group>
    <group>
      <sum>
        <list> %... </list>
        <condition> (eq,%0) </condition>
      </sum>
      <args> sk[0][0] x[1][2] x[2][1] </args>
      <args> sk[0][1] x[1][3] x[2][0] x[2][2] </args>
      <args> sk[0][2] x[1][0] x[1][4] x[2][1] x[2][3] </args>
      <args> sk[0][3] x[1][1] x[2][2] x[2][4] </args>
      <args> sk[0][4] x[1][2] x[2][3] </args>
      <args> sk[1][0] x[0][2] x[2][2] x[3][1] </args>
      <args> sk[1][1] x[0][3] x[2][3] x[3][0] x[3][2] </args>
      <args> sk[1][2] x[0][0] x[0][4] x[2][0] x[2][4] x[3][1] x[3][3] </args>
      <args> sk[1][3] x[0][1] x[2][1] x[3][2] x[3][4] </args>
      <args> sk[1][4] x[0][2] x[2][2] x[3][3] </args>
      <args> sk[2][0] x[0][1] x[1][2] x[3][2] x[4][1] </args>
      <args> sk[2][1] x[0][0] x[0][2] x[1][3] x[3][3] x[4][0] x[4][2] </args>
      <args> sk[2][2] x[0][1] x[0][3] x[1][0] x[1][4] x[3][0] x[3][4] x[4][1] x[4][3] </args>
      <args> sk[2][3] x[0][2] x[0][4] x[1][1] x[3][1] x[4][2] x[4][4] </args>
      <args> sk[2][4] x[0][3] x[1][2] x[3][2] x[4][3] </args>
      <args> sk[3][0] x[1][1] x[2][2] x[4][2] </args>
      <args> sk[3][1] x[1][0] x[1][2] x[2][3] x[4][3] </args>
      <args> sk[3][2] x[1][1] x[1][3] x[2][0] x[2][4] x[4][0] x[4][4] </args>
      <args> sk[3][3] x[1][2] x[1][4] x[2][1] x[4][1] </args>
      <args> sk[3][4] x[1][3] x[2][2] x[4][2] </args>
      <args> sk[4][0] x[2][1] x[3][2] </args>
      <args> sk[4][1] x[2][0] x[2][2] x[3][3] </args>
      <args> sk[4][2] x[2][1] x[2][3] x[3][0] x[3][4] </args>
      <args> sk[4][3] x[2][2] x[2][4] x[3][1] </args>
      <args> sk[4][4] x[2][3] x[3][2] </args>
    </group>
    <group>
      <extension>
        <list> %0 %1 %2 </list>
        <supports> (0,*,*)(1,0,*)(2,*,0) </supports>
      </extension>
      <args> x[0][0] sb[0][0] sk[0][0] </args>
      <args> x[0][1] sb[0][1] sk[0][1] </args>
      <args> x[0][2] sb[0][2] sk[0][2] </args>
      <args> x[0][3] sb[0][3] sk[0][3] </args>
      <args> x[0][4] sb[0][4] sk[0][4] </args>
      <args> x[1][0] sb[1][0] sk[1][0] </args>
      <args> x[1][1] sb[1][1] sk[1][1] </args>
      <args> x[1][2] sb[1][2] sk[1][2] </args>
      <args> x[1][3] sb[1][3] sk[1][3] </args>
      <args> x[1][4] sb[1][4] sk[1][4] </args>
      <args> x[2][0] sb[2][0] sk[2][0] </args>
      <args> x[2][1] sb[2][1] sk[2][1] </args>
      <args> x[2][2] sb[2][2] sk[2][2] </args>
      <args> x[2][3] sb[2][3] sk[2][3] </args>
      <args> x[2][4] sb[2][4] sk[2][4] </args>
      <args> x[3][0] sb[3][0] sk[3][0] </args>
      <args> x[3][1] sb[3][1] sk[3][1] </args>
      <args> x[3][2] sb[3][2] sk[3][2] </args>
      <args> x[3][3] sb[3][3] sk[3][3] </args>
      <args> x[3][4] sb[3][4] sk[3][4] </args>
      <args> x[4][0] sb[4][0] sk[4][0] </args>
      <args> x[4][1] sb[4][1] sk[4][1] </args>
      <args> x[4][2] sb[4][2] sk[4][2] </args>
      <args> x[4][3] sb[4][3] sk[4][3] </args>
      <args> x[4][4] sb[4][4] sk[4][4] </args>
    </group>
    <intension> eq(z,add(q,k)) </intension>
  </constraints>
  <objectives>
    <maximize> z </maximize>
  </objectives>
</instance>
